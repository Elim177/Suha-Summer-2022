[{"items": [{"tags": ["python", "tensorflow"], "owner": {"account_id": 15374455, "reputation": 317, "user_id": 12732865, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eeZ6Q.jpg?s=256&g=1", "display_name": "Andrew Wiedenmann", "link": "https://stackoverflow.com/users/12732865/andrew-wiedenmann"}, "is_answered": true, "view_count": 553, "accepted_answer_id": 61680259, "answer_count": 1, "score": 1, "last_activity_date": 1588944395, "creation_date": 1583187398, "last_edit_date": 1583190492, "question_id": 60497480, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/60497480/using-a-dataset-of-filenames-create-a-dataset-of-images-to-tuples", "title": "Using a dataset of filenames, create a dataset of images to tuples", "body": "<p>I create a tensorflow dataset of filenames of many images in a folder. The images are named [index].jpg, where index is some integer used to identify the images. I have a dictionary of string 'index' to labels as tuples. How, using tf.data.Dataset.map, can I map the index to a label tuple?</p>\n\n<p>Here's the map_func I am trying to pass to the map function:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def grabImages(filepath):\n   index = getIndexFromFilePath(filepath)\n   img = tf.io.read_file(filepath)\n   img = translateImage(img)\n   dictionary = getLabelDictionary()\n   return index, img\n</code></pre>\n\n<p>Where dictionary is the index to labels dict, index is the index of the filepath as tf.Tensor and img is a preprocessed image that was at the filepath.</p>\n\n<p>This returns a dataset with the index, as a tensor, mapped to the corresponding image. Is there a way to get the labels of the <code>index</code> using <code>dictionary</code> using something like <code>dictionary[index]</code>? Basically, I want to find the string content of index.</p>\n\n<p>I have tried using <code>.numpy()</code> and <code>.eval()</code> with the current session within the <code>grabImages</code> function, but neither work.</p>\n"}], "has_more": false, "quota_max": 300, "quota_remaining": 141}]