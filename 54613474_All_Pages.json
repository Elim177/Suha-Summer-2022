[{"items": [{"tags": ["python", "tensorflow", "keras"], "owner": {"account_id": 2417041, "reputation": 1331, "user_id": 2110869, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/thUI8.jpg?s=256&g=1", "display_name": "reubenjohn", "link": "https://stackoverflow.com/users/2110869/reubenjohn"}, "is_answered": true, "view_count": 2971, "accepted_answer_id": 54613931, "answer_count": 2, "score": 3, "last_activity_date": 1549782285, "creation_date": 1549774534, "last_edit_date": 1549782285, "question_id": 54613474, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/54613474/tensorflow-keras-input-layer-does-not-add-keras-shape", "title": "Tensorflow Keras Input layer does not add _keras_shape", "body": "<p>According to the keras <a href=\"https://keras.io/layers/core/\" rel=\"nofollow noreferrer\">documentation</a>, <code>Input</code> adds the <code>_keras_shape</code> attribute to the input tensor. However, as shown below, this is not the case.</p>\n\n<pre><code>import tensorflow as tf\ns = tf.keras.layers.Input(shape=[2], dtype=tf.float32, name='s')\nprint(s._keras_shape)\nTraceback (most recent call last):\n  File \"&lt;input&gt;\", line 3, in &lt;module&gt;\nAttributeError: 'Tensor' object has no attribute '_keras_shape'\n</code></pre>\n\n<p>Have I misunderstood something, or is this a bug I should report?</p>\n\n<p>The lack of this attribute makes further Keras functions go haywire:</p>\n\n<pre><code>q_s = q(s)\nmodel = Model(inputs=s, outputs=q_s)\nTraceback (most recent call last):\n...\nFile \"/home/reuben/.virtualenvs/tensorflow/lib/python3.5/site-packages/keras/engine/network.py\", line 253, in &lt;listcomp&gt;\n  input_shapes=[x._keras_shape for x in self.inputs],\nAttributeError: 'Tensor' object has no attribute '_keras_shape'\n</code></pre>\n\n<p>I'm using tensorflow version '1.11.0-rc2'</p>\n"}], "has_more": false, "quota_max": 300, "quota_remaining": 115}]