[{"items": [{"tags": ["python", "tensorflow", "tensorflow2.0", "tensor", "tensorflow-datasets"], "owner": {"user_type": "does_not_exist", "display_name": "user11173832"}, "is_answered": true, "view_count": 3253, "answer_count": 1, "score": 3, "last_activity_date": 1591020119, "creation_date": 1590729676, "question_id": 62079198, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/62079198/how-to-apply-map-function-to-the-tf-tensor", "title": "how to apply map function to the tf.Tensor", "body": "<pre><code>dataset = tf.data.Dataset.from_tensor_slices((images,boxes))\nfunction_to_map = lambda x,y: func3(x,y)\nfast_benchmark(dataset.map(function_to_map).batch(1).prefetch(tf.data.experimental.AUTOTUNE))\n</code></pre>\n\n<p>Now I here is the func3<br/></p>\n\n<pre><code>def fast_benchmark(dataset, num_epochs=2):\n    start_time = time.perf_counter()\n    print('dataset-&gt;',dataset)\n    for _ in tf.data.Dataset.range(num_epochs):\n        for _,__ in dataset:\n            print(_,__)\n            break\n            pass\n</code></pre>\n\n<p>the ooutput of print is <br/></p>\n\n<pre><code>tf.Tensor([b'/media/jake/mark-4tb3/input/datasets/pascal/VOCtrainval_11-May-2012/VOCdevkit/VOC2012/JPEGImages/2008_000008.jpg'], shape=(1,), dtype=string) &lt;tf.RaggedTensor [[[52, 86, 470, 419], [157, 43, 288, 166]]]&gt;\n</code></pre>\n\n<p>what I want to do in func3() <br/>\nwant to change image directory to the real image  and run the batch<br/></p>\n"}], "has_more": false, "quota_max": 300, "quota_remaining": 228}]