[{"items": [{"tags": ["tensorflow"], "owner": {"user_type": "does_not_exist", "display_name": "user6819011"}, "is_answered": true, "view_count": 285, "accepted_answer_id": 47374598, "answer_count": 1, "score": 0, "last_activity_date": 1511076308, "creation_date": 1511073284, "question_id": 47374306, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/47374306/tensorflow-batching-labels-with-tf-train-batch", "title": "Tensorflow: batching labels with tf.train.batch", "body": "<p>i have a piece of code</p>\n\n<pre><code>la=[0,0,0,0,0,0,1,1,1,1]\nonehot = tf.one_hot(la, depth=2)   #[[1,0],[1,0],[1,0],[1,0],[1,0],[1,0],[0,1],[0,1],[0,1],[0,1]]\nimage_batch,labels_batch=tf.train.batch([resized_image,onehot],batch_size=2,num_threads=1)\n</code></pre>\n\n<p>when i run </p>\n\n<blockquote>\n  <p>print(s.run([tf.shape(image_batch),labels_batch]))</p>\n</blockquote>\n\n<p>it is batching all labes at a time,like</p>\n\n<pre><code>[array([ 2, 50, 50,  3]), array([[[ 1.,  0.],\n    [ 1.,  0.],\n    [ 1.,  0.],\n    [ 1.,  0.],\n    [ 1.,  0.],\n    [ 1.,  0.],\n    [ 0.,  1.],\n    [ 0.,  1.],\n    [ 0.,  1.],\n    [ 0.,  1.]],\n\n   [[ 1.,  0.],\n    [ 1.,  0.],\n    [ 1.,  0.],\n    [ 1.,  0.],\n    [ 1.,  0.],\n    [ 1.,  0.],\n    [ 0.,  1.],\n    [ 0.,  1.],\n    [ 0.,  1.],\n    [ 0.,  1.]]], dtype=float32)]\n</code></pre>\n\n<p>it should output something like</p>\n\n<pre><code>[array([ 2, 50, 50,  3]), array([[[ 1.,  0.],\n\n   [[ 1.,  0.]]], dtype=float32)]\n</code></pre>\n\n<p>doesn't it? as batch size is 2 and taking 2 images and it's corresponding labels at a time.\ni'm new to CNN and machine learning.thanks beforehand. </p>\n"}], "has_more": false, "quota_max": 300, "quota_remaining": 288}]