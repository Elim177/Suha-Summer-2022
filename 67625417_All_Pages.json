[{"items": [{"tags": ["python", "tensorflow2.0", "tensor"], "owner": {"account_id": 7754272, "reputation": 716, "user_id": 5869215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14cd6fa67f030e4f4e2c1b8892316951?s=256&d=identicon&r=PG&f=1", "display_name": "kelkka", "link": "https://stackoverflow.com/users/5869215/kelkka"}, "is_answered": true, "view_count": 76, "accepted_answer_id": 67633252, "answer_count": 1, "score": 0, "last_activity_date": 1621585481, "creation_date": 1621532240, "question_id": 67625417, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/67625417/how-to-apply-crop-to-bounding-box-in-tensorflow-2-to-a-symbolic-tensor", "title": "How to apply crop_to_bounding_box in TensorFlow 2 to a symbolic tensor?", "body": "<p>I have the following bit of code that is designed to find the first and last pixels with a pixel intensity of &gt;= 25 and then crop to that bounding box:</p>\n<pre><code>white_pixels = tf.where(input_img &gt;= 25)\nfirst_white_pixel = white_pixels[:, 0]\nfirst_white_pixel = tf.cast(first_white_pixel, dtype=tf.int32)\nlast_white_pixel = white_pixels[:, -1]\nlast_white_pixel = tf.cast(last_white_pixel, dtype=tf.int32)\ncropped = tf.image.crop_to_bounding_box(input_img, first_white_pixel[0], 0, last_white_pixel[0] - first_white_pixel[0], 299)\n</code></pre>\n<p>However, I keep getting an error saying that the target_height in tf.image.crop_to_bounding_box must be above 0. In all my images, the result of last_white_pixel[0] - first_white_pixel[0] is definitely above 0. The code is executed as a symbolic tensor in TensorFlow 2.3 and works fine in a non-symbolic setting (for the lack of a better term).</p>\n"}], "has_more": false, "quota_max": 300, "quota_remaining": 137}]