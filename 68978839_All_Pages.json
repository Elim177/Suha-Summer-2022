[{"items": [{"tags": ["python", "tensorflow", "keras", "gradient"], "owner": {"account_id": 22602422, "reputation": 1, "user_id": 16783724, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a/AATXAJysVN_mmwX6yGpXQzpjRrZRAkutO1QuxdAJKsuz=k-s256", "display_name": "farnad", "link": "https://stackoverflow.com/users/16783724/farnad"}, "is_answered": false, "view_count": 37, "answer_count": 0, "score": 0, "last_activity_date": 1630302279, "creation_date": 1630296540, "last_edit_date": 1630302279, "question_id": 68978839, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/68978839/why-tf-gradienttape-slowing-down-by-the-time", "title": "why tf.GradientTape() slowing down by the time?", "body": "<p>I've got a code with multiple usage of <code>tf.GradientTape()</code> in it like this :</p>\n<pre><code>with tf.GradientTape() as tape:\n            actions = actor_model(state_batch, training=True)\n            critic_value = critic_model([state_batch, actions], training=True)\n            actor_loss = -tf.math.reduce_mean(critic_value)\n\n        actor_grad = tape.gradient(actor_loss, actor_model.trainable_variables)\n        actor_optimizer.apply_gradients(\n            zip(actor_grad, actor_model.trainable_variables)\n        )\n</code></pre>\n<p>I have tried to run this functions with or without <code>@tf.function</code> but in either way speed of executing the functions are slowing down by the time.<br />\nFor example at the first time it takes 0.0156257152557373052 seconds to run this part of code but after an hour it will be doubled and it keeps slowing down.</p>\n<p>Is it supposed to be like this? Is there some way to prevent this slowing down?</p>\n"}], "has_more": false, "quota_max": 300, "quota_remaining": 12}]