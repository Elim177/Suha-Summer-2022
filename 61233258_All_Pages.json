[{"items": [{"tags": ["tensorflow", "keras"], "owner": {"account_id": 18061284, "reputation": 155, "user_id": 13128362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20643292c45e7efa4fb1f15f182968ae?s=256&d=identicon&r=PG&f=1", "display_name": "samquar", "link": "https://stackoverflow.com/users/13128362/samquar"}, "is_answered": false, "view_count": 39, "answer_count": 0, "score": 0, "last_activity_date": 1586966566, "creation_date": 1586966566, "question_id": 61233258, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/61233258/scale-image-in-keras-when-providing-no-input-shape", "title": "Scale image in keras when providing no input shape", "body": "<p>I want to resize an image in a neural network and I don't provide Input shape. Is it possible? My last code:</p>\n\n<pre><code>def exp_no_input_shape():\n\n    kernel_size = (3, 3)\n    a = tf.placeholder(tf.int32)\n    b = tf.placeholder(tf.int32)\n    inp = Input(shape=[a, b, 3])\n\n    layer1 = Conv2D(3, kernel_size, strides=(2, 2), padding='same', activation='relu')(inp)\n\n    resize_layer = tf.image.resize_images(layer1, [tf.shape(layer1).eval(session=tf.compat.v1.Session())[0]*2, tf.shape(layer1).eval(session=tf.compat.v1.Session())[1]*2], method=tf.image.ResizeMethod.NEAREST_NEIGHBOR)\n    layer2 = Conv2D(3, kernel_size, padding='same', activation='relu')(resize_layer)\n\n    return Model(inp, layer2)\n</code></pre>\n\n<p>It gives the error: <code>Error converting shape to a TensorShape: int() argument must be a string, a bytes-like object or a number, not 'Tensor'.</code></p>\n\n<p>Also, I tried this earlier:</p>\n\n<pre><code>def exp_no_input_shape():\n    kernel_size = (3, 3)\n\n    inp = Input(shape=[None, None, 3])\n\n    layer1 = Conv2D(3, kernel_size, strides=(2, 2), padding='same', activation='relu')(inp)\n\n    resize_layer = tf.image.resize_images(layer1, [tf.shape(layer1).eval(session=tf.compat.v1.Session())[0]*2, tf.shape(layer1).eval(session=tf.compat.v1.Session())[1]*2], method=tf.image.ResizeMethod.NEAREST_NEIGHBOR)\n    layer2 = Conv2D(3, kernel_size, padding='same', activation='relu')(resize_layer)\n\n    return Model(inp, layer2)\n</code></pre>\n\n<p>It gives the error: <code>You must feed a value for placeholder tensor 'input_1' with dtype float and shape [?,?,?,3]</code></p>\n"}], "has_more": false, "quota_max": 300, "quota_remaining": 146}]