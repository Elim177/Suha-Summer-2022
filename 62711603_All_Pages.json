[{"items": [{"tags": ["tensorflow", "google-colaboratory", "tensorflow2.0", "tpu"], "owner": {"account_id": 7297168, "reputation": 5375, "user_id": 5561472, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/kf45N.jpg?s=256&g=1", "display_name": "Andrey", "link": "https://stackoverflow.com/users/5561472/andrey"}, "is_answered": true, "view_count": 1305, "accepted_answer_id": 62729266, "answer_count": 1, "score": 3, "last_activity_date": 1610960288, "creation_date": 1593765481, "last_edit_date": 1610960288, "question_id": 62711603, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/62711603/how-to-check-if-tpu-is-available-in-google-colab", "title": "How to check if TPU is available in Google Colab?", "body": "<p>I am trying to choose a distribution strategy based on availability of TPU.</p>\n<p>My code is as follows:</p>\n<pre><code>import tensorflow as tf\nif tf.config.list_physical_devices('tpu'):\n  resolver = tf.distribute.cluster_resolver.TPUClusterResolver()\n  tf.config.experimental_connect_to_cluster(resolver)\n  tf.tpu.experimental.initialize_tpu_system(resolver)\n  print(&quot;All devices: &quot;, tf.config.list_logical_devices('TPU'))\n  strategy = tf.distribute.experimental.TPUStrategy(resolver)\nelse:  # use default strategy\n  strategy = tf.distribute.get_strategy() \n</code></pre>\n<p>But it doesn't work.</p>\n<p>How can I identify TPU ?</p>\n"}], "has_more": false, "quota_max": 300, "quota_remaining": 17}]