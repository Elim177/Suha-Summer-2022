[{"items": [{"tags": ["python", "tensorflow", "google-cloud-tpu", "google-colaboratory"], "owner": {"user_type": "does_not_exist", "display_name": "user14588808"}, "is_answered": true, "view_count": 3568, "answer_count": 2, "score": 3, "last_activity_date": 1604881160, "creation_date": 1604819643, "question_id": 64735682, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/64735682/use-tpu-v3-in-google-colab-pro", "title": "Use TPU v3 in Google Colab Pro", "body": "<p>Is there a way to use a TPU v3 instead of a TPU v2 in Google Colab Pro?</p>\n<p>Unfortunately I get an error message <code>Compilation failure: Ran out of memory in memory space hbm. Used 8.29G of 7.48G hbm. Exceeded hbm capacity by 825.60M.</code> with the TPU v2, which I no longer receive with a TPU v3. Because a TPU v3 has more memory.</p>\n<p>Does anyone know a possibility / option?</p>\n<p>With this I start the TPU</p>\n<pre><code>try:\n  tpu = tf.distribute.cluster_resolver.TPUClusterResolver()  # TPU detection\n  print('Running on TPU ', tpu.cluster_spec().as_dict()['worker'])\nexcept ValueError:\n  raise BaseException('ERROR: Not connected to a TPU runtime; please see the previous cell in this notebook for instructions!')\n\n\ntf.config.experimental_connect_to_cluster(tpu)\ntf.tpu.experimental.initialize_tpu_system(tpu)\n#tpu_strategy = tf.distribute.experimental.TPUStrategy(tpu)\nstrategy = tf.distribute.TPUStrategy(tpu)\n</code></pre>\n"}], "has_more": false, "quota_max": 300, "quota_remaining": 149}]