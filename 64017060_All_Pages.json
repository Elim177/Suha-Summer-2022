[{"items": [{"tags": ["python", "tensorflow", "gpu"], "owner": {"account_id": 17995170, "reputation": 143, "user_id": 13078393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db7fc090a8bc5fa18aeedf876f6df657?s=256&d=identicon&r=PG&f=1", "display_name": "shaurov2253", "link": "https://stackoverflow.com/users/13078393/shaurov2253"}, "is_answered": true, "view_count": 620, "accepted_answer_id": 64019965, "answer_count": 1, "score": 0, "last_activity_date": 1600826351, "creation_date": 1600805634, "question_id": 64017060, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/64017060/problem-accessing-gpus-with-tf-nightly-2-4", "title": "Problem accessing GPUs with tf-nightly 2.4", "body": "<p>Recently, the Ubuntu18.04 server I work on has been upgraded to the TensorFlow version 2.4.0 from 2.0.0. It started problem with accessing the GPUs which was working perfectly before. I noticed there are two versions available right now by <code>pip list</code> on my jupyter notebook. I also tried <code>tf.test.gpu_device_name()</code>, which returned nothing. Previously I was using the following code to assign GPU for my code:</p>\n<pre><code>import os\nos.environ[&quot;CUDA_DEVICE_ORDER&quot;]=&quot;PCI_BUS_ID&quot;   # see issue #152\nos.environ[&quot;CUDA_VISIBLE_DEVICES&quot;]=&quot;1&quot;\n</code></pre>\n<p>And see the list of all devices, I was using:</p>\n<pre><code>from tensorflow.python.client import device_lib\nprint(device_lib.list_local_devices())\n</code></pre>\n<p>After the upgrade, the code above returns only the CPU name, not the GPUs.</p>\n<p>My questions are:</p>\n<ol>\n<li><p>This problem can be related to the multiple versions installed on the server. In that case, can I select a particular version to run my code? Right now, I am seeing <code>tensorflow-gpu 2.3.0</code> and <code>tf-nightly 2.4.0</code>. I know uninstalling one can lead to the solution but I don't have the sudo access.</p>\n</li>\n<li><p>Do I need to use new code to assign GPU because of the version change?</p>\n</li>\n<li><p>Do I need to upgrade the whole code to make it compatible with TF2.4?</p>\n</li>\n<li><p>I also think, <code>tf-nightly-gpu</code> may solve the problem but I need to be 100% sure.</p>\n</li>\n</ol>\n<p>I am using python3. Thank you.</p>\n"}], "has_more": false, "quota_max": 300, "quota_remaining": 55}]