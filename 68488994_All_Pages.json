[{"items": [{"tags": ["python-3.x", "numpy", "tensorflow2.x"], "owner": {"account_id": 4441934, "reputation": 1962, "user_id": 3616293, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/cf7556b4227065cec9496375d64fea3d?s=256&d=identicon&r=PG&f=1", "display_name": "Arun", "link": "https://stackoverflow.com/users/3616293/arun"}, "is_answered": false, "view_count": 125, "answer_count": 1, "score": 0, "last_activity_date": 1626987475, "creation_date": 1626973858, "question_id": 68488994, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/68488994/understanding-l2-norm-output-for-3d-tensor-tensorflow2", "title": "Understanding L2-norm output for 3D tensor - TensorFlow2", "body": "<p>For Python 3.8 and TensorFlow 2.5, I have a 3-D tensor of shape (3, 3, 3) where the goal is to compute the L2-norm for each of the three (3, 3) square matrices. The code that I came up with is:</p>\n<pre><code>a = tf.random.normal(shape = (3, 3, 3))\n\na.shape\n# TensorShape([3, 3, 3])\n\na.numpy()\n'''\narray([[[-0.30071023,  0.9958398 , -0.77897555],\n        [-1.4251901 ,  0.8463568 , -0.6138699 ],\n        [ 0.23176959, -2.1303613 ,  0.01905925]],\n\n       [[-1.0487134 , -0.36724553, -1.0881581 ],\n        [-0.12025198,  0.20973174, -2.1444907 ],\n        [ 1.4264063 , -1.5857363 ,  0.31582597]],\n\n       [[ 0.8316077 , -0.7645084 ,  1.5271858 ],\n        [-0.95836663, -1.868056  , -0.04956183],\n        [-0.16384012, -0.18928945,  1.04647   ]]], dtype=float32)\n'''\n</code></pre>\n<p>I am using axis = 2 since the 3rd axis should contain three 3x3 square matrices. The output I get is:</p>\n<pre><code>tf.math.reduce_euclidean_norm(input_tensor = a, axis = 2).numpy()\n'''\narray([[1.299587 , 1.7675754, 2.1430166],\n       [1.5552354, 2.158075 , 2.15614  ],\n       [1.8995634, 2.1001325, 1.0759989]], dtype=float32)\n'''\n</code></pre>\n<p>How are these values computed? The formula for computing L2-norm is <a href=\"https://mathworld.wolfram.com/L2-Norm.html\" rel=\"nofollow noreferrer\">this</a>. What am I missing?</p>\n<p>Also, I was expecting three L2-norm values, one for each of the three (3, 3) matrices. The code I have to achieve this is:</p>\n<pre><code>tf.math.reduce_euclidean_norm(a[0]).numpy()\n# 3.0668826\n\ntf.math.reduce_euclidean_norm(a[1]).numpy()\n# 3.4241767\n\ntf.math.reduce_euclidean_norm(a[2]).numpy()\n# 3.0293021\n</code></pre>\n<p>Is there any better way to get this without having to explicitly refer to each indices of tensor 'a'?</p>\n<p>Thanks!</p>\n"}], "has_more": false, "quota_max": 300, "quota_remaining": 100}]