[{"items": [{"tags": ["python", "numpy", "tensorflow"], "owner": {"account_id": 15116032, "reputation": 30058, "user_id": 10908375, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L7f8w.jpg?s=256&g=1", "display_name": "Nicolas Gervais", "link": "https://stackoverflow.com/users/10908375/nicolas-gervais"}, "is_answered": true, "view_count": 315, "answer_count": 2, "score": 0, "last_activity_date": 1594322912, "creation_date": 1594320217, "last_edit_date": 1594320723, "question_id": 62821637, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/62821637/how-do-i-select-multiple-rows-with-tensorflow", "title": "How do I select multiple rows with Tensorflow?", "body": "<p>I have an tensor of probabilities, and I want to select the highest probability per column.</p>\n<pre><code>import tensorflow as tf\n\nx = tf.random.normal(mean=0, stddev=1, shape=(5, 4))\n</code></pre>\n<pre><code>&lt;tf.Tensor: shape=(5, 4), dtype=float32, numpy=\narray([[ 0.29182285, -0.30140358, -1.6745052 ,  0.04754949],\n       [-0.4013166 ,  0.98574334, -0.33083338, -1.2661675 ],\n       [-0.49397126, -0.19175254,  1.4922557 , -0.9857015 ],\n       [ 0.57078785,  0.30159777,  0.34956333,  0.17599773],\n       [ 1.0847769 , -0.58611375, -0.10727347, -0.13440256]],\n      dtype=float32)&gt;\n</code></pre>\n<p>I'm trying to select the highest probabilities per column like I would with <code>numpy</code> and it doesn't work:</p>\n<pre><code>x[tf.argmax(x, axis=0), :]\n</code></pre>\n<blockquote>\n<p>TypeError: Only integers, slices (<code>:</code>), ellipsis (<code>...</code>), tf.newaxis (<code>None</code>) and scalar tf.int32/tf.int64 tensors are valid indices, got &lt;tf.Tensor: shape=(4,), dtype=int32, numpy=array([4, 1, 2, 3])&gt;</p>\n</blockquote>\n<p>What would be the correct way to do this?</p>\n"}], "has_more": false, "quota_max": 300, "quota_remaining": 214}]