[{"items": [{"tags": ["python", "tensorflow", "machine-learning", "deep-learning", "gradienttape"], "owner": {"account_id": 16834052, "reputation": 1064, "user_id": 14337775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b79eabde913adc2731f05723397b1231?s=256&d=identicon&r=PG&f=1", "display_name": "Lawhatre", "link": "https://stackoverflow.com/users/14337775/lawhatre"}, "is_answered": true, "view_count": 282, "accepted_answer_id": 66236943, "answer_count": 1, "score": 1, "last_activity_date": 1613577774, "creation_date": 1613541344, "question_id": 66236438, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/66236438/gradient-are-none-for-sliced-input-in-tensorflow", "title": "Gradient are None for sliced input in TensorFlow", "body": "<p>Following is my code</p>\n<pre><code>import tensorflow as tf\nimport numpy as np\ndef forward(x):\n  z = tf.Variable(tf.zeros_like(x), trainable=False)\n  s = tf.shape(x)[0]\n  for i in range(s):\n    z[i].assign(x[i]**i)\n  return z\n\na = tf.Variable(np.ones([5])*3)\n\nwith tf.GradientTape() as tape:\n  b = forward(a)\ngrad = tape.gradient(b, a)\n</code></pre>\n<p>I have a input which I have to slice and then calculate the output. Upon which, I need to calculate gradients. However, the output of above code is None.</p>\n<p>How can I obtain gradients? Is there any way in which I can slice the input to get the gradients.</p>\n<p>P.S. I have to only use EagerExecution. No graph mode.</p>\n"}], "has_more": false, "quota_max": 300, "quota_remaining": 204}]