[{"items": [{"tags": ["python", "tensorflow", "tensorflow-datasets", "tf.keras", "tensorflow2.x"], "owner": {"account_id": 10129457, "reputation": 875, "user_id": 7483509, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh3.googleusercontent.com/-rLN-a5QG95Q/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reidV1ZIp-ccT7ykiC9GJpJ54O-4A/mo/photo.jpg?sz=256", "display_name": "Nick Skywalker", "link": "https://stackoverflow.com/users/7483509/nick-skywalker"}, "is_answered": true, "view_count": 1181, "accepted_answer_id": 60411616, "answer_count": 1, "score": 0, "last_activity_date": 1582712388, "creation_date": 1582646109, "last_edit_date": 1582710494, "question_id": 60398554, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/60398554/should-we-apply-repeat-batch-shuffle-to-tf-data-dataset-when-passing-it-to-fit", "title": "Should we apply repeat, batch shuffle to tf.data.Dataset when passing it to fit function?", "body": "<p>I still don't after having read documentation about <code>tf.keras.Model.fit</code> and <code>tf.data.Dataset</code>, when passing <code>tf.data.Dataset</code> to fit function, should I call <code>repeat</code> and <code>batch</code> on the dataset object or should I provide the <code>batch_size</code> and <code>epochs</code> arguments to fit instead? or both? Should I apply the same treatment to the validation set?</p>\n\n<p>And while I'm here, can I <code>shuffle</code> the dataset before the <code>fit</code>? (seems like it's an obvious yes)\nIf so, before, after calling <code>Dataset.batch</code> and <code>Dataset.repeat</code> (if calling them)?</p>\n\n<p><strong>Edit:</strong> When using <code>batch_size</code> argument, and without having called <code>Dataset.batch(batch_size)</code> previously, I am getting the following error:</p>\n\n<pre><code>ValueError: The `batch_size` argument must not be specified for the given input type.\nReceived input: &lt;MapDataset shapes: ((&lt;unknown&gt;, &lt;unknown&gt;, &lt;unknown&gt;, &lt;unknown&gt;), (&lt;unknown&gt;, &lt;unknown&gt;, &lt;unknown&gt;)), \ntypes: ((tf.float32, tf.float32, tf.float32, tf.float32), (tf.float32, tf.float32, tf.float32))&gt;, \nbatch_size: 1\n</code></pre>\n\n<p>Thanks</p>\n"}], "has_more": false, "quota_max": 300, "quota_remaining": 245}]