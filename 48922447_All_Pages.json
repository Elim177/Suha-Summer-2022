[{"items": [{"tags": ["python", "tensorflow"], "owner": {"account_id": 6956681, "reputation": 1056, "user_id": 5337505, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-F4WMV67MG-o/AAAAAAAAAAI/AAAAAAAABGA/b-vMtZ0piXI/photo.jpg?sz=256", "display_name": "Siladittya", "link": "https://stackoverflow.com/users/5337505/siladittya"}, "is_answered": true, "view_count": 717, "answer_count": 3, "score": 1, "last_activity_date": 1532573277, "creation_date": 1519287122, "question_id": 48922447, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/48922447/using-a-randomly-shuffled-batch-as-input-to-a-cnn-from-a-tensor-of-image-data", "title": "Using a randomly shuffled batch as input to a CNN from a tensor of image data", "body": "<p>I am trying to train a network using STL-10 dataset.</p>\n\n<p>I have extracted the data from the STL-10 binary files and converted them into numpy arrays. Then i have converted them to tensors using <code>tf.convert_to_tensor</code> function</p>\n\n<p>Now I have a tensor of shape (5000,96,96,3)</p>\n\n<p>I want to get a batch of size 32 from this tensor containing data for 5000 images, and the batches will be randomly shuffled in each iteration.</p>\n\n<p>using <code>tf.train.batch</code> gives an error </p>\n\n<pre><code>`TypeError: `Tensor` objects are not iterable when eager execution is not enabled. To iterate over this tensor use tf.map_fn.`\n</code></pre>\n\n<p>How to do i get a batch of image data of size 32, which will be randomly shuffled in each iteration?</p>\n"}], "has_more": false, "quota_max": 300, "quota_remaining": 26}]