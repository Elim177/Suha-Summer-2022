[{"items": [{"tags": ["python", "tensorflow"], "owner": {"account_id": 3948330, "reputation": 5043, "user_id": 3259896, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/641c30a7b383022f22b53c8cedb04e3f?s=256&d=identicon&r=PG&f=1", "display_name": "SantoshGupta7", "link": "https://stackoverflow.com/users/3259896/santoshgupta7"}, "is_answered": true, "view_count": 694, "answer_count": 1, "score": 0, "last_activity_date": 1527107872, "creation_date": 1527027487, "last_edit_date": 1527107872, "question_id": 50477206, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/50477206/getting-a-variable-using-tf-get-variable-after-graph-and-session-is-restored-in", "title": "Getting a variable using tf.get_variable after graph and session is restored in new file", "body": "<p>I am trying to train a model in file 1, and restore and analyze the weights in another file (file 2). </p>\n\n<p>In file 1, I have created a variable using get_variable </p>\n\n<pre><code>with train_graph.as_default():\n    softmax_wInit = tf.truncated_normal((n_vocab, n_embedding))\n    softmax_w = tf.get_variable('SMWeightMatrix', initializer = softmax_wInit) \n</code></pre>\n\n<p>In file 2, I have restored the graph and session checkpoint, and attempted to get the variable using get_variable </p>\n\n<pre><code>with tf.Session() as sess:\n  saver = tf.train.import_meta_graph('./MODEL4/text8.ckpt.meta')\n  saver.restore(sess, './MODEL4/text8.ckpt' )\n  with tf.variable_scope('', reuse=True):\n    embeddingRestored = tf.get_variable( 'SMWeightMatrix')\n</code></pre>\n\n<p>However, I get 'ValueError: Variable SMWeightMatrix does not exist, or was not created with tf.get_variable(). Did you mean to set reuse=tf.AUTO_REUSE in VarScope?'</p>\n\n<p>However, if I look into the list of variables, SMWeightMatrix is definitely there. When I run this code</p>\n\n<pre><code>with tf.Session() as sess:\n  saver = tf.train.import_meta_graph('./MODEL4/text8.ckpt.meta')\n  saver.restore(sess, './MODEL4/text8.ckpt' )\n  for v in tf.get_default_graph().get_collection(\"variables\"):\n    print(v)\n  for v in tf.get_default_graph().get_collection(\"trainable_variables\"):\n    print(v)\n</code></pre>\n\n<p>This the output </p>\n\n<pre><code>INFO:tensorflow:Restoring parameters from ./MODEL4/text8.ckpt\n&lt;tf.Variable 'embedding:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'softmax_bias:0' shape=(63641,) dtype=float32_ref&gt;\n&lt;tf.Variable 'beta1_power:0' shape=() dtype=float32_ref&gt;\n&lt;tf.Variable 'beta2_power:0' shape=() dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding/Adam:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding/Adam_1:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix/Adam:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix/Adam_1:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'softmax_bias:0' shape=(63641,) dtype=float32_ref&gt;\n&lt;tf.Variable 'beta1_power:0' shape=() dtype=float32_ref&gt;\n&lt;tf.Variable 'beta2_power:0' shape=() dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding/Adam:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding/Adam_1:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix/Adam:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix/Adam_1:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'softmax_bias:0' shape=(63641,) dtype=float32_ref&gt;\n&lt;tf.Variable 'beta1_power:0' shape=() dtype=float32_ref&gt;\n&lt;tf.Variable 'beta2_power:0' shape=() dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding/Adam:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding/Adam_1:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix/Adam:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix/Adam_1:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'softmax_bias:0' shape=(63641,) dtype=float32_ref&gt;\n&lt;tf.Variable 'beta1_power:0' shape=() dtype=float32_ref&gt;\n&lt;tf.Variable 'beta2_power:0' shape=() dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding/Adam:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding/Adam_1:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix/Adam:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix/Adam_1:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'softmax_bias:0' shape=(63641,) dtype=float32_ref&gt;\n&lt;tf.Variable 'beta1_power:0' shape=() dtype=float32_ref&gt;\n&lt;tf.Variable 'beta2_power:0' shape=() dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding/Adam:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding/Adam_1:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix/Adam:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix/Adam_1:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'softmax_bias:0' shape=(63641,) dtype=float32_ref&gt;\n&lt;tf.Variable 'beta1_power:0' shape=() dtype=float32_ref&gt;\n&lt;tf.Variable 'beta2_power:0' shape=() dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding/Adam:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding/Adam_1:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix/Adam:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix/Adam_1:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'softmax_bias:0' shape=(63641,) dtype=float32_ref&gt;\n&lt;tf.Variable 'beta1_power:0' shape=() dtype=float32_ref&gt;\n&lt;tf.Variable 'beta2_power:0' shape=() dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding/Adam:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding/Adam_1:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix/Adam:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix/Adam_1:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'softmax_bias:0' shape=(63641,) dtype=float32_ref&gt;\n&lt;tf.Variable 'beta1_power:0' shape=() dtype=float32_ref&gt;\n&lt;tf.Variable 'beta2_power:0' shape=() dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding/Adam:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding/Adam_1:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix/Adam:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix/Adam_1:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'softmax_bias:0' shape=(63641,) dtype=float32_ref&gt;\n&lt;tf.Variable 'beta1_power:0' shape=() dtype=float32_ref&gt;\n&lt;tf.Variable 'beta2_power:0' shape=() dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding/Adam:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding/Adam_1:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix/Adam:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix/Adam_1:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'softmax_bias:0' shape=(63641,) dtype=float32_ref&gt;\n&lt;tf.Variable 'beta1_power:0' shape=() dtype=float32_ref&gt;\n&lt;tf.Variable 'beta2_power:0' shape=() dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding/Adam:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding/Adam_1:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix/Adam:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix/Adam_1:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'softmax_bias:0' shape=(63641,) dtype=float32_ref&gt;\n&lt;tf.Variable 'beta1_power:0' shape=() dtype=float32_ref&gt;\n&lt;tf.Variable 'beta2_power:0' shape=() dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding/Adam:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding/Adam_1:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix/Adam:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix/Adam_1:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'softmax_bias:0' shape=(63641,) dtype=float32_ref&gt;\n&lt;tf.Variable 'beta1_power:0' shape=() dtype=float32_ref&gt;\n&lt;tf.Variable 'beta2_power:0' shape=() dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding/Adam:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding/Adam_1:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix/Adam:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix/Adam_1:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'softmax_bias:0' shape=(63641,) dtype=float32_ref&gt;\n&lt;tf.Variable 'beta1_power:0' shape=() dtype=float32_ref&gt;\n&lt;tf.Variable 'beta2_power:0' shape=() dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding/Adam:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding/Adam_1:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix/Adam:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix/Adam_1:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'softmax_bias:0' shape=(63641,) dtype=float32_ref&gt;\n&lt;tf.Variable 'beta1_power:0' shape=() dtype=float32_ref&gt;\n&lt;tf.Variable 'beta2_power:0' shape=() dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding/Adam:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding/Adam_1:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix/Adam:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix/Adam_1:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'softmax_bias:0' shape=(63641,) dtype=float32_ref&gt;\n&lt;tf.Variable 'beta1_power:0' shape=() dtype=float32_ref&gt;\n&lt;tf.Variable 'beta2_power:0' shape=() dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding/Adam:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding/Adam_1:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix/Adam:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix/Adam_1:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'softmax_bias:0' shape=(63641,) dtype=float32_ref&gt;\n&lt;tf.Variable 'beta1_power:0' shape=() dtype=float32_ref&gt;\n&lt;tf.Variable 'beta2_power:0' shape=() dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding/Adam:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding/Adam_1:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix/Adam:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix/Adam_1:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'softmax_bias:0' shape=(63641,) dtype=float32_ref&gt;\n&lt;tf.Variable 'beta1_power:0' shape=() dtype=float32_ref&gt;\n&lt;tf.Variable 'beta2_power:0' shape=() dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding/Adam:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding/Adam_1:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix/Adam:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix/Adam_1:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'softmax_bias:0' shape=(63641,) dtype=float32_ref&gt;\n&lt;tf.Variable 'beta1_power:0' shape=() dtype=float32_ref&gt;\n&lt;tf.Variable 'beta2_power:0' shape=() dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding/Adam:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding/Adam_1:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix/Adam:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix/Adam_1:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'softmax_bias:0' shape=(63641,) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'softmax_bias:0' shape=(63641,) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'softmax_bias:0' shape=(63641,) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'softmax_bias:0' shape=(63641,) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'softmax_bias:0' shape=(63641,) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'softmax_bias:0' shape=(63641,) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'softmax_bias:0' shape=(63641,) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'softmax_bias:0' shape=(63641,) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'softmax_bias:0' shape=(63641,) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'softmax_bias:0' shape=(63641,) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'softmax_bias:0' shape=(63641,) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'softmax_bias:0' shape=(63641,) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'softmax_bias:0' shape=(63641,) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'softmax_bias:0' shape=(63641,) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'softmax_bias:0' shape=(63641,) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'softmax_bias:0' shape=(63641,) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'softmax_bias:0' shape=(63641,) dtype=float32_ref&gt;\n&lt;tf.Variable 'embedding:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'SMWeightMatrix:0' shape=(63641, 128) dtype=float32_ref&gt;\n&lt;tf.Variable 'softmax_bias:0' shape=(63641,) dtype=float32_ref&gt;\n</code></pre>\n\n<p>I have tried using similar code in file 1 to get the variable using get_variable and have no problems</p>\n\n<pre><code>with tf.Session(graph=train_graph) as sess:\n  with tf.variable_scope(\"\", reuse=True):\n    embeddingRestored = tf.get_variable( 'SMWeightMatrix')\n</code></pre>\n\n<p>So the issue seems related to the restoring of the graph and the session. </p>\n"}], "has_more": false, "quota_max": 300, "quota_remaining": 78}]