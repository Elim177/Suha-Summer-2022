[{"items": [{"tags": ["python", "tensorflow", "tensorflow2.0", "tensorflow-datasets"], "owner": {"account_id": 17179434, "reputation": 77, "user_id": 12435064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dee98a1b9d75ca711b0da2297fa6c5e6?s=256&d=identicon&r=PG&f=1", "display_name": "AdemxKartal", "link": "https://stackoverflow.com/users/12435064/ademxkartal"}, "is_answered": true, "view_count": 523, "accepted_answer_id": 65783582, "answer_count": 1, "score": 0, "last_activity_date": 1611171960, "creation_date": 1611011988, "last_edit_date": 1611171960, "question_id": 65783423, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/65783423/tfrecord-print-image-from-tfrecord-file", "title": "tfrecord: print image from .tfrecord file", "body": "<p>I created a dataset from scratch for my tensorflow model. Im am working with TensorFlow 2.4.0. For acceleration I decided to store the data in a .tfrecord file type, now I want to check if it stored right in the .tfrecord file.\nI wrote a code to print one image inside the .tfrecord file, but I get following error:</p>\n<pre><code>    imageRaw = imageFeautre['image/width'].numpy()\nTypeError: 'TakeDataset' object is not subscriptable\n</code></pre>\n<p>I oriented myself on the official tensorflow tutorial (<a href=\"https://www.tensorflow.org/tutorials/load_data/tfrecord#write_the_tfrecord_file\" rel=\"nofollow noreferrer\">https://www.tensorflow.org/tutorials/load_data/tfrecord#write_the_tfrecord_file</a>)</p>\n<p>I can load the dataset and read it, the content is correct. I cannot print one image inside it, I just want to print one image within it I found no solution on the web.</p>\n<p>Here is my code:</p>\n<pre><code>import tensorflow as tf\nimport numpy as np\nimport IPython.display as display\n\n\n\n\n\n  tf.compat.v1.enable_eager_execution()\n  tfrecordPath='/home/adem/PycharmProjects/dcganAlgorithmus/dataHandler/preparedData/train.tfrecord'\n\n\n\nrfrecordDataSet=tf.data.TFRecordDataset(tfrecordPath)\n\n\nimageFeatureDescription ={\n    'image/width:':tf.io.FixedLenFeature([],tf.int64),\n    'image/height':tf.io.FixedLenFeature([], tf.int64),\n    'image/xmin':tf.io.FixedLenFeature([], tf.int64),\n    'image/ymin':tf.io.FixedLenFeature([],tf.int64),\n    'image/xmax':tf.io.FixedLenFeature([],tf.int64),\n    'image/ymin':tf.io.FixedLenFeature([],tf.int64),\n}\n\n\ndef _parse_image_function(example_proto):\n  # Parse the input tf.train.Example proto using the dictionary above.\n  return tf.io.parse_single_example(example_proto, imageFeatureDescription)\n\n\n\nParsedImageDataset = rfrecordDataSet.map(_parse_image_function)\nimageFeautre=ParsedImageDataset.take(1)\nimageRaw = imageFeautre['image/width'].numpy()\ndisplay.display(display.Image(data=imageRaw))\n</code></pre>\n"}], "has_more": false, "quota_max": 300, "quota_remaining": 226}]