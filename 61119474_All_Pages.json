[{"items": [{"tags": ["python", "tensorflow2.0"], "owner": {"account_id": 18060677, "reputation": 3, "user_id": 13127877, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YbuSO9EhHRs/AAAAAAAAAAI/AAAAAAAAAAA/AKF05nBdYMYKiBfidKrsBIl7uL8F_IWhXw/photo.jpg?sz=256", "display_name": "ming guang", "link": "https://stackoverflow.com/users/13127877/ming-guang"}, "is_answered": true, "view_count": 157, "accepted_answer_id": 61120689, "answer_count": 1, "score": 0, "last_activity_date": 1586433655, "creation_date": 1586429545, "question_id": 61119474, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/61119474/how-to-get-the-value-of-tensor-in-tf2-0", "title": "How to get the value of tensor in tf2.0?", "body": "<pre><code>IMAGE_FEATURE_MAP = {\n    'image/filename': tf.io.FixedLenFeature([], tf.string),\n    'image/encoded': tf.io.FixedLenFeature([], tf.string),\n    'image/object/bbox/xmin': tf.io.VarLenFeature(tf.float32),\n    'image/object/bbox/ymin': tf.io.VarLenFeature(tf.float32),\n    'image/object/bbox/xmax': tf.io.VarLenFeature(tf.float32),\n    'image/object/bbox/ymax': tf.io.VarLenFeature(tf.float32),\n    'image/object/class/text': tf.io.VarLenFeature(tf.string),\n}\nyolo_max_boxes = 100\n\ndef parse_tfrecord(tfrecord, class_table, size):\n\n    x = tf.io.parse_single_example(tfrecord, IMAGE_FEATURE_MAP)\n    x_train = tf.image.decode_jpeg(x['image/encoded'], channels=3)\n    x_train = tf.image.resize(x_train, (size, size))\n    class_text = tf.sparse.to_dense(\n        x['image/object/class/text'], default_value='')\n    labels = tf.cast(class_table.lookup(class_text), tf.float32)\n    y_train = tf.stack([tf.sparse.to_dense(x['image/object/bbox/xmin']),\n                        tf.sparse.to_dense(x['image/object/bbox/ymin']),\n                        tf.sparse.to_dense(x['image/object/bbox/xmax']),\n                        tf.sparse.to_dense(x['image/object/bbox/ymax']),\n                        labels], axis=1)\n    paddings = [[0, yolo_max_boxes - tf.shape(y_train)[0]], [0, 0]]\n\n    y_train = tf.pad(y_train, paddings)\n\n    return x_train, y_train\n\n\ndef load_tfrecord_dataset(file_pattern, class_file, size=416):\n\n    LINE_NUMBER = -1\n\n    class_table = tf.lookup.StaticHashTable(tf.lookup.TextFileInitializer(\n        class_file, tf.string, 0, tf.int64, LINE_NUMBER, delimiter=\"\\n\"), -1)\n\n    files = tf.data.Dataset.list_files(file_pattern)\n    dataset = files.flat_map(tf.data.TFRecordDataset)\n\n    result = dataset.map(lambda x: parse_tfrecord(x, class_table, size))\n\n    return result\n\ndef main():\n    load_tfrecord_dataset('../data/facemask2020_train.tfrecord', '../data/mask2020.names', size=416)\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p>When I print x ['image/filename'], I can only get the shape and data type of the tensor. I want to get detailed records about the file name in the tf.record file, but I can't see the specific value of this tensor.What should I do to check his specific value? I am a newbie, please help me.</p>\n"}], "has_more": false, "quota_max": 300, "quota_remaining": 88}]