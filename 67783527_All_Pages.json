[{"items": [{"tags": ["python", "image", "numpy", "csv", "tensorflow"], "owner": {"user_type": "does_not_exist", "display_name": "user14009125"}, "is_answered": false, "view_count": 164, "answer_count": 1, "score": 0, "last_activity_date": 1622571663, "creation_date": 1622527968, "last_edit_date": 1622571663, "question_id": 67783527, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/67783527/only-integer-scalar-arrays-can-be-converted-to-a-scalar-index-why-arri-shape", "title": "only integer scalar arrays can be converted to a scalar index. why arr[i].shape is not working?", "body": "<p>I want to store image data into a CSV file to make some neural network model on it.\nin mylist there are all images\nconvert_img_to_array function convert images into numpy array\nin data_image array i store all images data\nbut when i print data_image[i].shape than it's show me an error\nwhat's an error here.\nhere is my code</p>\n<pre><code>import io\nimport os\nimport csv\nimport tensorflow as tf\nimport numpy as np\nfrom PIL import Image\n\n# from keras.preprocessing.image import load_img\n# from keras.preprocessing.image import img_to_array\n# from keras.preprocessing.image import array_to_img\n\nall_img = []\nfilename = 'images'\nmyList = []\nmyList = os.listdir(filename)\nprint(myList)\nfor img in myList:\n    with open(f'{filename}/{img}', 'rb') as f:\n        cur = f.read()\n        all_img.append(cur)\n\ndata_image = []\n\n\ndef convert_img_to_array(img1):\n    img1 = Image.open(io.BytesIO(img1)).convert('L')\n    data = np.asarray(img1)\n    data = data / 255\n    data = data[np.newaxis, ..., np.newaxis]\n    data = tf.image.resize(data, [255, 255])\n    print(data.shape)\n    return data\n\n\nfor i in all_img:\n    data_image.append(convert_img_to_array(i))\nfor i in data_image:\n    print(data_image[i].shape)\n\nwith open('innovators.csv', 'w', newline='') as file:\n    writer = csv.writer(file)\n    writer.writerow(data_image[0])\n    writer.writerow(data_image[1])\n</code></pre>\n<p>it shows me error on &quot;print(data_image[i].shape)&quot;</p>\n<p>error</p>\n<pre><code>File &quot;F:\\create numpy data from images\\create_array.py&quot;, line 38, in &lt;module&gt;\n    print(data_image[i].shape)\n  File &quot;C:\\Users\\Dell\\AppData\\Roaming\\Python\\Python39\\site-packages\\tensorflow\\python\\framework\\ops.py&quot;, line 1004, in __index__\n    return self._numpy().__index__()\nTypeError: only integer scalar arrays can be converted to a scalar index\n</code></pre>\n<p>is there any other way to store all images into a NumPy array with the same dimension than? Please tell me\nThank you for try to solve it.</p>\n"}], "has_more": false, "quota_max": 300, "quota_remaining": 134}]