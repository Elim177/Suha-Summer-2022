[{"items": [{"tags": ["python", "python-2.7", "python-3.x", "tensorflow", "tensorboard"], "owner": {"user_type": "does_not_exist", "display_name": "user7866929"}, "is_answered": true, "view_count": 3595, "accepted_answer_id": 43686992, "answer_count": 1, "score": 5, "last_activity_date": 1493405131, "creation_date": 1493402476, "last_edit_date": 1493403221, "question_id": 43686318, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/43686318/how-run-multiple-operation-together-in-one-line-in-tensor-session", "title": "How run multiple operation together in one line in tensor session?", "body": "<p>I am learning tensorflow and i have two questions first is , is it necessery to run each opeation in session ? like if i create a simple program in which there are three operations  addition  and  substraction and matrix multiply  then is it necessary to run all those operation in session ? </p>\n\n<pre><code>import tensorflow as tf\nimport numpy as np\nimport os\nos.environ[\"TF_CPP_MIN_LOG_LEVEL\"]=\"3\"\na=np.array([[1,2,3],[4,5,6],[5,6,7]],dtype=\"float32\")\nb=np.array([[7,8,9],[9,6,5],[6,7,8]],dtype=\"float32\")\nab=tf.Variable(a)\nbb=tf.constant(b)\ninn=tf.global_variables_initializer()\nadd=ab+bb\nsub=(ab-bb)\n\nmul=tf.matmul(a,b)\nwith tf.Session() as rr:\n    rr.run(inn)\n    rr.run(ab)\n    res=rr.run(mul)\n    print(res)\n</code></pre>\n\n<p>so now i have to run each operation (add,sub and matmul) in session ??</p>\n\n<p>if \"yes\" i have to run then can i run all those operation together ? i tried but i got error :</p>\n\n<p>first i tried this :</p>\n\n<pre><code>import tensorflow as tf\nimport numpy as np\nimport os\nos.environ[\"TF_CPP_MIN_LOG_LEVEL\"]=\"3\"\na=np.array([[1,2,3],[4,5,6],[5,6,7]],dtype=\"float32\")\nb=np.array([[7,8,9],[9,6,5],[6,7,8]],dtype=\"float32\")\nab=tf.Variable(a)\nbb=tf.constant(b)\ninn=tf.global_variables_initializer()\nadd=ab+bb\nsub=(ab-bb)\n\nmul=tf.matmul(a,b)\nwith tf.Session() as rr:\n    rr.run(inn,ab,add,sub,mul)\n    rr.run(ab)\n    res=rr.run(mul)\n    print(res)\n</code></pre>\n\n<p>i got this error :</p>\n\n<pre><code>TypeError: run() takes from 2 to 5 positional arguments but 6 were given\n</code></pre>\n\n<p>so i removed one argument (mul) from run then i got this error :</p>\n\n<pre><code> raise TypeError(\"Using a `tf.Tensor` as a Python `bool` is not allowed. \"\n    TypeError: Using a `tf.Tensor` as a Python `bool` is not allowed. Use `if t is not None:` instead of `if t:` to test if a tensor is defined, and use TensorFlow ops such as tf.cond to execute subgraphs conditioned on the value of a tensor.\n</code></pre>\n\n<p>how i can run all operation once or i have to run each individually ?</p>\n\n<p>second during writing this code i tried to multiply two matrix with shape [2,3] my program was :</p>\n\n<pre><code>import tensorflow as tf\nimport numpy as np\nimport os\nos.environ[\"TF_CPP_MIN_LOG_LEVEL\"]=\"3\"\na=np.array([[1,2,3],[4,5,6]],dtype=\"float32\")\nb=np.array([[7,8,9],[9,6,5]],dtype=\"float32\")\nab=tf.Variable(a)\nbb=tf.constant(b)\ninn=tf.global_variables_initializer()\nadd=ab+bb\nsub=(ab-bb)\n\nmul=tf.matmul(a,b)\nwith tf.Session() as rr:\n    rr.run(inn)\n    rr.run(ab)\n    res=rr.run(mul)\n    print(res)\n</code></pre>\n\n<p>i got this error :</p>\n\n<pre><code>ValueError: Dimensions must be equal, but are 3 and 2 for 'MatMul' (op: 'MatMul') with input shapes: [2,3], [2,3].\n</code></pre>\n\n<p>how multiply a=([1,2,3],[4,5,6])  b= ([9,8,7],[6,4,3]) ??</p>\n"}], "has_more": false, "quota_max": 300, "quota_remaining": 299}]