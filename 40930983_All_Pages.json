[{"items": [{"tags": ["tensorflow"], "owner": {"account_id": 963556, "reputation": 1375, "user_id": 987397, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/fa7ae7d9bd13c2d04335c3209865c262?s=256&d=identicon&r=PG", "display_name": "Derk", "link": "https://stackoverflow.com/users/987397/derk"}, "is_answered": false, "view_count": 1123, "answer_count": 0, "score": 1, "last_activity_date": 1480863119, "creation_date": 1480677482, "last_edit_date": 1480863119, "question_id": 40930983, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/40930983/tensorflow-item-assignment-not-supported-other-solutions", "title": "Tensorflow: item assignment not supported, other solutions?", "body": "<p>I have the following code snippet. I sample one item per row from a matrix. This item should be 1, while the others are zero. Is there an elegant solutions for this in TensorFlow</p>\n\n<pre><code># Some example data\nweights = tf.random_uniform([10,3], minval=0, maxval=1)\n\n# Sample from weights\nid_x = tf.multinomial(tf.log(weights), 1)\n\n# Build corresponding indices\nind_range = tf.expand_dims(tf.range(tf.shape(id_x)[0]), 1)\nind = tf.concat(1, [ind_range, tf.cast(id_x, dtype=tf.int32)])\ngripper = tf.zeros([tf.shape(id_x)[0], 3])\ngripper[ind] = 1\n\nwith tf.Session() as sess:\n  x,y = sess.run([id_x,ind])\n\nprint x\nprint y\n</code></pre>\n\n<p>This snippet results in 'TypeError: 'Tensor' object does not support item assignment'</p>\n"}], "has_more": false, "quota_max": 300, "quota_remaining": 116}]