[{"items": [{"tags": ["python", "tensorflow"], "owner": {"account_id": 13658258, "reputation": 179, "user_id": 9854132, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209322581445667/picture?type=large", "display_name": "Theodosis Siomos", "link": "https://stackoverflow.com/users/9854132/theodosis-siomos"}, "is_answered": true, "view_count": 599, "answer_count": 2, "score": 3, "last_activity_date": 1539639917, "creation_date": 1539270827, "question_id": 52763539, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/52763539/compute-the-mean-for-each-row-from-a-tf-sparsetensor-in-tensorflow", "title": "Compute the mean for each row from a tf.SparseTensor in TensorFlow", "body": "<p>I want to compute the mean for axis=0 for a <code>tf.SparseTensor</code>. I want something like <code>tf.sparse_reduce_sum</code>. TensorFlow doesn't provide a similar function for the mean calculation. Is there any way to count the values in each row in order to divide them with the sum?</p>\n\n<pre><code>indices = np.array([[0, 0], [0, 1], [0, 2], [0, 3], [0, 4], [0, 5],\n               [1, 0], [1, 1], [1, 3], [1, 4], [1, 5],\n               [2, 1], [2, 2], [2, 3], [2, 4],\n               [3, 0], [3, 1], [3, 2], [3, 3], [3, 4], [3, 5],\n               [4, 0], [4, 2], [4, 3], [4, 4], [4, 5]], dtype=np.int64)\n\nvalues = np.array([7, 6, 7, 4, 5, 4,\n                   6, 7, 4, 3, 4,\n                   3, 3, 1, 1,\n                   1, 2, 2, 3, 3, 4,\n                   1, 1, 2, 3, 3], dtype=np.float64)\n\ndense_shape = np.array([5, 6], dtype=np.int64)\n\ntRatings = tf.SparseTensor(indices, values, dense_shape)\n</code></pre>\n"}], "has_more": false, "quota_max": 300, "quota_remaining": 68}]