[{"items": [{"tags": ["python", "tensorflow"], "owner": {"account_id": 14803758, "reputation": 125, "user_id": 10691336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WuaoGhsnjNk/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-j8hWEGkxpbs5faI4mstpZAg95iog/mo/photo.jpg?sz=256", "display_name": "Won Jun Son", "link": "https://stackoverflow.com/users/10691336/won-jun-son"}, "is_answered": true, "view_count": 1442, "accepted_answer_id": 54632823, "answer_count": 2, "score": 0, "last_activity_date": 1608854963, "creation_date": 1549784303, "last_edit_date": 1549895887, "question_id": 54614365, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/54614365/what-is-the-difference-between-with-session-and-just-using-session-in-tensorflow", "title": "what is the difference between with session and just using session in tensorflow", "body": "<p>using\n<code>with tf.Session(graph = g) as sess:</code>\ndoesnt give me an error\nbut if I use\n<code>sess = tf.session(graph = g)</code>\nI get an error</p>\n\n<pre><code>g = tf.Graph()\n\nwith g.as_default():\n    v1 = tf.Variable(1,name = \"v1\")\n    v2 = tf.Variable(2,name = \"v2\")\n\n\n\nwith tf.session(graph = g) as sess:\n    sess.run(tf.global_variables_initializer())\n</code></pre>\n\n<p>above gives me no error</p>\n\n<pre><code>import tensorflow as tf\n\n\ng = tf.Graph()\n\nwith g.as_default():\n    v1 = tf.Variable(1,name = \"v1\")\n    v2 = tf.Variable(2,name = \"v2\")\n\n\nsess = tf.Session(graph = g)\nsess.run(tf.global_variables_initializer())\n</code></pre>\n\n<p>but this gives me an error</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/Users/wonjunson/gym/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 300, in __init__\n    fetch, allow_tensor=True, allow_operation=True))\n  File \"/Users/wonjunson/gym/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\", line 3490, in as_graph_element\n    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)\n  File \"/Users/wonjunson/gym/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\", line 3574, in _as_graph_element_locked\n    raise ValueError(\"Operation %s is not an element of this graph.\" % obj)\nValueError: Operation name: \"init\"\nop: \"NoOp\"\n is not an element of this graph.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"maintest.py\", line 14, in &lt;module&gt;\n    sess.run(tf.global_variables_initializer())\n  File \"/Users/wonjunson/gym/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 929, in run\n    run_metadata_ptr)\n  File \"/Users/wonjunson/gym/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1137, in _run\n    self._graph, fetches, feed_dict_tensor, feed_handles=feed_handles)\n  File \"/Users/wonjunson/gym/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 471, in __init__\n    self._fetch_mapper = _FetchMapper.for_fetch(fetches)\n  File \"/Users/wonjunson/gym/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 271, in for_fetch\n    return _ElementFetchMapper(fetches, contraction_fn)\n  File \"/Users/wonjunson/gym/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 307, in __init__\n    'Tensor. (%s)' % (fetch, str(e)))\nValueError: Fetch argument &lt;tf.Operation 'init' type=NoOp&gt; cannot be interpreted as a Tensor. (Operation name: \"init\"\nop: \"NoOp\"\n is not an element of this graph.)\n</code></pre>\n\n<p>But, I don't see the big difference between them. </p>\n\n<p>I'm guessing this is because I'm using <code>global_variables_initializer</code>. Since I only need to initialize variables in g.\nBut still, the variables are also included in <code>global_variables</code>, isnt it?\nOr the variables are local in graph g?</p>\n"}], "has_more": false, "quota_max": 300, "quota_remaining": 293}]