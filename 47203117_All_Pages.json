[{"items": [{"tags": ["tensorflow", "neural-network", "conv-neural-network", "tensorflow-gpu", "tensorflow-slim"], "owner": {"account_id": 6948356, "reputation": 765, "user_id": 5331881, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/1UV1a.jpg?s=256&g=1", "display_name": "Javier Ventajas Hern&#225;ndez", "link": "https://stackoverflow.com/users/5331881/javier-ventajas-hern%c3%a1ndez"}, "is_answered": false, "view_count": 262, "answer_count": 1, "score": 0, "last_activity_date": 1510240464, "creation_date": 1510234099, "question_id": 47203117, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/47203117/aggregate-rows-into-tensorflow-variable", "title": "aggregate rows into tensorflow variable", "body": "<p>I have a tf.Variable tensor that should work as a result aggregator.</p>\n\n<p>The idea is that I will execute an operation on the graph with batches of data and the results should be appended as new rows to my result Variable.</p>\n\n<p>Because at the beginning the variable should be empty, I initialize it like this:</p>\n\n<pre><code>result_tensor = tf.Variable(0, expected_shape=[0, 5], dtype=tf.float32)\n</code></pre>\n\n<p>Then, what I do is concatenate the new rows along the axis 0 (as new rows):</p>\n\n<pre><code>total_output = tf.concat([result_tensor, operation], 0)\n</code></pre>\n\n<p>Finally, I reassign the variable:</p>\n\n<pre><code>assign_op = tf.assign(result_tensor, total_output, validate_shape=False)\n</code></pre>\n\n<p>However, when all of this is run, I get the following error:</p>\n\n<pre><code>ValueError: Shape must be rank 0 but is rank 2 for 'concat_1' (op: 'ConcatV2') with input shapes: [], [?,25088], [].\n</code></pre>\n\n<p>Can you guys help me to find the obvious thing that I'm doing wrong?</p>\n\n<p>Thanks!</p>\n"}], "has_more": false, "quota_max": 300, "quota_remaining": 298}]